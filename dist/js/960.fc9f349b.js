"use strict";(self["webpackChunkcashflow"]=self["webpackChunkcashflow"]||[]).push([[960],{1112:function(e,t,a){a.r(t),a.d(t,{default:function(){return Re}});a(4114);var l=a(6768),n=a(144),o=a(5130);const u=e=>((0,l.Qi)("data-v-0aba70e0"),e=e(),(0,l.jt)(),e),s={class:"header"},r={class:"resume"},v={class:"movements"},c=u((()=>(0,l.Lk)("div",{class:"grip"},null,-1))),i=[c],m={class:"body"};var d={__name:"LayOut",setup(e){const t=(0,n.KR)(!1);return(e,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",s,[(0,l.RG)(e.$slots,"header")]),(0,l.Lk)("div",r,[(0,l.RG)(e.$slots,"resume")]),(0,l.Lk)("div",v,[(0,l.Lk)("div",{class:"head",onClick:a[0]||(a[0]=e=>t.value=!t.value)},i),(0,l.bo)((0,l.Lk)("div",m,[(0,l.RG)(e.$slots,"movements")],512),[[o.aG,t.value]])])],64))}},p=a(1241);const k=(0,p.A)(d,[["__scopeId","data-v-0aba70e0"]]);var b=k;const L=e=>((0,l.Qi)("data-v-7a2f5c2d"),e=e(),(0,l.jt)(),e),g=["src"],_=L((()=>(0,l.Lk)("h1",null,[(0,l.Lk)("span",null,"Cash"),(0,l.eW)("Flow")],-1))),h=L((()=>(0,l.Lk)("span",null,null,-1)));var f={__name:"HeaderComponent",setup(e){const t=()=>{location.reload()};return(e,n)=>((0,l.uX)(),(0,l.CE)("header",null,[(0,l.Lk)("img",{onClick:t,src:a(7075),alt:"HeaderImage"},null,8,g),_,h]))}};const y=(0,p.A)(f,[["__scopeId","data-v-7a2f5c2d"]]);var C=y,R=a(4232);const I={class:"graphic"},w={class:"action"};var X={__name:"IndexComponent",props:{label:{type:Date,default:null},labelText:String,amount:{type:Number,default:null},totalAmount:Number},setup(e){const t=new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}),a=e,n=(0,l.EW)((()=>null!==a.amount?a.amount:a.totalAmount)),o=(0,l.EW)((()=>null!==a.label?a.label:a.labelText)),u=(0,l.EW)((()=>t.format(n.value)));return(e,t)=>((0,l.uX)(),(0,l.CE)("main",null,[(0,l.Lk)("p",null,(0,R.v_)(o.value),1),(0,l.Lk)("h1",null,(0,R.v_)(u.value),1),(0,l.Lk)("div",I,[(0,l.RG)(e.$slots,"graphic")]),(0,l.Lk)("div",w,[(0,l.RG)(e.$slots,"action")])]))}};const E=(0,p.A)(X,[["__scopeId","data-v-1ab89fdb"]]);var x=E,A=a.p+"img/trash-icon.bc08e8c5.svg";const W={class:"movement"},K={class:"content"},M={class:"action"};var F={__name:"MovementsComponent",props:{id:{type:Number,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},amount:{type:Number,required:!0}},emits:["remove"],setup(e,{emit:t}){const a=e,{id:o,title:u,description:s,amount:r}=(0,n.QW)(a),v=new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}),c=(0,l.EW)((()=>v.format(r.value))),i=(0,l.EW)((()=>r.value<0)),m=t,d=()=>{m("remove",o.value)};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",W,[(0,l.Lk)("div",K,[(0,l.Lk)("h4",null,(0,R.v_)((0,n.R1)(u)),1),(0,l.Lk)("p",null,(0,R.v_)((0,n.R1)(s)),1)]),(0,l.Lk)("div",M,[(0,l.Lk)("img",{src:A,alt:"borrar",onClick:d}),(0,l.Lk)("p",{class:(0,R.C4)({red:i.value,green:!i.value})},(0,R.v_)(c.value),3)])]))}};const G=(0,p.A)(F,[["__scopeId","data-v-a182a890"]]);var D=G;const N=e=>((0,l.Qi)("data-v-78fad220"),e=e(),(0,l.jt)(),e),$={class:"movements"},Q=N((()=>(0,l.Lk)("h2",{class:"title"},"Historial",-1))),S={class:"content"};var T={__name:"MovementIndex",props:{movements:{type:Array,default:()=>[]}},emits:["remove"],setup(e,{emit:t}){const a=e,{movements:o}=(0,n.QW)(a),u=t,s=e=>{u("remove",e)};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",$,[Q,(0,l.Lk)("div",S,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(o),(({id:e,title:t,description:a,amount:n})=>((0,l.uX)(),(0,l.Wv)(D,{key:e,id:e,title:t,description:a,amount:n,onRemove:s},null,8,["id","title","description","amount"])))),128))])]))}};const j=(0,p.A)(T,[["__scopeId","data-v-78fad220"]]);var V=j,B=a.p+"img/close-icon.db321b12.svg";const J=e=>((0,l.Qi)("data-v-2af01ab0"),e=e(),(0,l.jt)(),e),U={class:"modal"},q=J((()=>(0,l.Lk)("p",null,"Nuevo movimiento",-1))),H={class:"body"};var O={__name:"ModalComponent",emits:["close"],setup(e,{emit:t}){const a=t,n=()=>a("close");return(e,t)=>((0,l.uX)(),(0,l.CE)("div",U,[(0,l.Lk)("div",{class:"head"},[q,(0,l.Lk)("img",{onClick:n,src:B,alt:"cerrar"})]),(0,l.Lk)("div",H,[(0,l.RG)(e.$slots,"default")])]))}};const z=(0,p.A)(O,[["__scopeId","data-v-2af01ab0"]]);var P=z;const Y=e=>((0,l.Qi)("data-v-69c3691a"),e=e(),(0,l.jt)(),e),Z={class:"field"},ee=Y((()=>(0,l.Lk)("label",null,"Título",-1))),te={class:"field"},ae=Y((()=>(0,l.Lk)("label",null,"Monto",-1))),le={class:"field"},ne=Y((()=>(0,l.Lk)("label",null,"Descripción",-1))),oe={class:"field"},ue={class:"radio-label"},se=Y((()=>(0,l.Lk)("span",null,"Ingreso",-1))),re={class:"radio-label"},ve=Y((()=>(0,l.Lk)("span",null,"Gasto",-1))),ce=Y((()=>(0,l.Lk)("div",null,[(0,l.Lk)("button",null,"Agregar movimiento")],-1)));var ie={__name:"ActionComponent",emits:["create"],setup(e,{emit:t}){const a=(0,n.KR)(!1),u=(0,n.KR)(""),s=(0,n.KR)(0),r=(0,n.KR)(""),v=(0,n.KR)("Ingreso"),c=t,i=()=>{a.value=!1,c("create",{id:Date.now(),title:u.value,description:r.value,amount:"Ingreso"===v.value?s.value:-s.value,time:new Date}),u.value="",r.value="",s.value=0,v.value="Ingreso"};return(e,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>a.value=!0)}," Agregar movimiento "),((0,l.uX)(),(0,l.Wv)(l.Im,{to:"#app"},[(0,l.bo)((0,l.bF)(P,{onClose:t[6]||(t[6]=e=>a.value=!1)},{default:(0,l.k6)((()=>[(0,l.Lk)("form",{onSubmit:(0,o.D$)(i,["prevent"])},[(0,l.Lk)("div",Z,[ee,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e)},null,512),[[o.Jo,u.value]])]),(0,l.Lk)("div",te,[ae,(0,l.bo)((0,l.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>s.value=e)},null,512),[[o.Jo,s.value]])]),(0,l.Lk)("div",le,[ne,(0,l.bo)((0,l.Lk)("textarea",{rows:"4","onUpdate:modelValue":t[3]||(t[3]=e=>r.value=e)},null,512),[[o.Jo,r.value]])]),(0,l.Lk)("div",oe,[(0,l.Lk)("label",ue,[(0,l.bo)((0,l.Lk)("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=e=>v.value=e),value:"Ingreso"},null,512),[[o.XL,v.value]]),se]),(0,l.Lk)("label",re,[(0,l.bo)((0,l.Lk)("input",{type:"radio","onUpdate:modelValue":t[5]||(t[5]=e=>v.value=e),value:"Gasto"},null,512),[[o.XL,v.value]]),ve]),ce])],32)])),_:1},512),[[o.aG,a.value]])]))],64))}};const me=(0,p.A)(ie,[["__scopeId","data-v-69c3691a"]]);var de=me;const pe=e=>((0,l.Qi)("data-v-5f95d87d"),e=e(),(0,l.jt)(),e),ke=["y1","y2"],be=["points"],Le=["x1","x2"],ge=pe((()=>(0,l.Lk)("p",null,"Últimos 30 días",-1)));var _e={__name:"GraphicComponent",props:{amounts:{type:Array,default:()=>[]}},emits:["select"],setup(e,{emit:t}){const a=e,{amounts:u}=(0,n.QW)(a),s=(0,l.EW)((()=>r(0))),r=e=>{const t=Math.min(...u.value),a=Math.max(...u.value),l=e+Math.abs(t),n=Math.abs(a)+Math.abs(t);return 200-100*l/n*2},v=(0,l.EW)((()=>{const e=u.value.length;return u.value.reduce(((t,a,l)=>{const n=300/e*(l+1),o=r(a);return console.log(o),`${t} ${n}, ${o}`}),`0, ${r(u.value.lenght?u.value[0]:0)}`)})),c=(0,n.KR)(!1),i=(0,n.KR)(0),m=t;(0,l.wB)(i,(e=>{const t=Math.ceil(e/(300/u.value.length));t<0||t>u.value.length||m("select",u.value[t-1])}));const d=({target:e,touches:t})=>{c.value=!0;const a=e.getBoundingClientRect().width,l=e.getBoundingClientRect().x,n=t[0].clientX;i.value=300*(n-l)/a},p=()=>{c.value=!1};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",null,[((0,l.uX)(),(0,l.CE)("svg",{onTouchstart:d,onTouchmove:d,onTouchend:p,viewBox:"0,0 300 200"},[(0,l.Lk)("line",{stroke:"#c4c4c4","stroke-width":"2",x1:"0",y1:s.value,x2:"300",y2:s.value},null,8,ke),(0,l.Lk)("polyline",{fill:"none",stroke:"#0689B0","stroke-width":"2",points:v.value},null,8,be),(0,l.bo)((0,l.Lk)("line",{"stroke-width":"2",stroke:"#04b500",x1:i.value,y1:"0",x2:i.value,y2:"200"},null,8,Le),[[o.aG,c.value]])],32)),ge]))}};const he=(0,p.A)(_e,[["__scopeId","data-v-5f95d87d"]]);var fe=he,ye={__name:"HomeComponent",setup(e){let t=(0,n.KR)(null);const a=(0,n.KR)(null),o=(0,n.KR)([]),u=(0,l.EW)((()=>{const e=o.value.filter((e=>{const t=new Date,a=new Date(t);return a.setDate(t.getDate()-30),new Date(e.time)>=a})).map((e=>e.amount));return e.map(((t,a)=>{const l=e.slice(0,a+1);return l.reduce(((e,t)=>e+t),0)}))})),s=e=>{o.value.push(e),v()},r=e=>{const t=o.value.findIndex((t=>t.id===e));-1!==t&&(o.value.splice(t,1),v())},v=()=>{localStorage.setItem("movements",JSON.stringify(o.value))};(0,l.sV)((()=>{const e=localStorage.getItem("movements");e&&(o.value=JSON.parse(e).map((e=>({...e,time:new Date(e.time)}))))}));const c=(0,l.EW)((()=>o.value.reduce(((e,t)=>e+t.amount),0))),i=e=>(console.log(e),t=e);return(e,v)=>((0,l.uX)(),(0,l.Wv)(b,null,{header:(0,l.k6)((()=>[(0,l.bF)(C)])),resume:(0,l.k6)((()=>[(0,l.bF)(x,{label:a.value,labelText:"Ahorro total","total-amount":c.value,amount:(0,n.R1)(t)},{graphic:(0,l.k6)((()=>[(0,l.bF)(fe,{amounts:u.value,onSelect:i},null,8,["amounts"])])),action:(0,l.k6)((()=>[(0,l.bF)(de,{onCreate:s})])),_:1},8,["label","total-amount","amount"])])),movements:(0,l.k6)((()=>[(0,l.bF)(V,{movements:o.value,onRemove:r},null,8,["movements"])])),_:1}))}};const Ce=ye;var Re=Ce}}]);
//# sourceMappingURL=960.fc9f349b.js.map